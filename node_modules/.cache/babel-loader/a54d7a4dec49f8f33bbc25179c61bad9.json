{"ast":null,"code":"import _slicedToArray from\"C:/batches/Aug pp10/react/Google Classroom Project/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{createContext,useEffect,useState}from\"react\";import{auth}from\"./lib/firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";export var authContext=/*#__PURE__*/createContext();var AuthProvider=function AuthProvider(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var unsub=auth.onAuthStateChanged(function(userObj){if(userObj){var displayName=userObj.displayName,email=userObj.email,uid=userObj.uid,photoURL=userObj.photoURL;setUser({displayName:displayName,email:email,uid:uid,photoURL:photoURL});}else{setUser(null);}setLoading(false);});return function(){unsub();};},[]);return/*#__PURE__*/_jsx(authContext.Provider,{value:user,children:!loading&&props.children});};export default AuthProvider;","map":{"version":3,"sources":["C:/batches/Aug pp10/react/Google Classroom Project/app/src/AuthProvider.js"],"names":["createContext","useEffect","useState","auth","authContext","AuthProvider","props","user","setUser","loading","setLoading","unsub","onAuthStateChanged","userObj","displayName","email","uid","photoURL","children"],"mappings":"6KAAA,OAASA,aAAT,CAAwBC,SAAxB,CAAmCC,QAAnC,KAAmD,OAAnD,CACA,OAASC,IAAT,KAAqB,gBAArB,C,2CAEA,MAAO,IAAMC,CAAAA,WAAW,cAAGJ,aAAa,EAAjC,CAEP,GAAIK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAU,CACzB,cAAsBJ,QAAQ,CAAC,IAAD,CAA9B,wCAAKK,IAAL,eAAWC,OAAX,eACA,eAA4BN,QAAQ,CAAC,IAAD,CAApC,yCAAKO,OAAL,eAAcC,UAAd,eAGAT,SAAS,CAAC,UAAI,CACV,GAAIU,CAAAA,KAAK,CAAGR,IAAI,CAACS,kBAAL,CAAwB,SAACC,OAAD,CAAW,CAC3C,GAAGA,OAAH,CAAW,CACP,GAAMC,CAAAA,WAAN,CAA2CD,OAA3C,CAAMC,WAAN,CAAmBC,KAAnB,CAA2CF,OAA3C,CAAmBE,KAAnB,CAA0BC,GAA1B,CAA2CH,OAA3C,CAA0BG,GAA1B,CAA+BC,QAA/B,CAA2CJ,OAA3C,CAA+BI,QAA/B,CACAT,OAAO,CAAC,CAACM,WAAW,CAAXA,WAAD,CAAcC,KAAK,CAALA,KAAd,CAAqBC,GAAG,CAAHA,GAArB,CAA0BC,QAAQ,CAARA,QAA1B,CAAD,CAAP,CACH,CAHD,IAII,CACAT,OAAO,CAAC,IAAD,CAAP,CACH,CAEDE,UAAU,CAAC,KAAD,CAAV,CACH,CAVW,CAAZ,CAYA,MAAO,WAAM,CACTC,KAAK,GACR,CAFD,CAGH,CAhBQ,CAgBP,EAhBO,CAAT,CAkBA,mBAAO,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAEJ,IAA7B,UACF,CAACE,OAAD,EAAYH,KAAK,CAACY,QADhB,EAAP,CAGH,CA1BD,CA4BA,cAAeb,CAAAA,YAAf","sourcesContent":["import { createContext, useEffect, useState } from \"react\";\r\nimport { auth } from \"./lib/firebase\"; \r\n\r\nexport const authContext = createContext();\r\n\r\nlet AuthProvider = (props) =>{\r\n    let [user, setUser] = useState(null);\r\n    let [loading, setLoading] = useState(true);\r\n    \r\n\r\n    useEffect(()=>{\r\n        let unsub = auth.onAuthStateChanged((userObj)=>{\r\n            if(userObj){\r\n                let { displayName, email, uid, photoURL} = userObj;\r\n                setUser({displayName, email, uid, photoURL});\r\n            }\r\n            else{\r\n                setUser(null);\r\n            }\r\n\r\n            setLoading(false);\r\n        });\r\n\r\n        return () => {\r\n            unsub();\r\n        }\r\n    },[]);\r\n\r\n    return <authContext.Provider value={user}>\r\n        {!loading && props.children}\r\n    </authContext.Provider>\r\n}\r\n\r\nexport default AuthProvider;"]},"metadata":{},"sourceType":"module"}