{"ast":null,"code":"var _jsxFileName = \"C:\\\\batches\\\\Aug pp10\\\\react\\\\Google Classroom Project\\\\app\\\\src\\\\JoinClass\\\\JoinClass.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport './JoinClass.css';\nimport Avatar from '@material-ui/core/Avatar';\nimport { TextField } from '@material-ui/core';\nimport { useContext } from 'react';\nimport { authContext } from '../AuthProvider';\nimport LetteredAvatar from 'lettered-avatar';\nimport { firestore } from '../lib/firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    position: 'relative'\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1\n  }\n}));\nconst Transition = /*#__PURE__*/React.forwardRef(_c = function Transition(props, ref) {\n  return /*#__PURE__*/_jsxDEV(Slide, {\n    direction: \"up\",\n    ref: ref,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 12\n  }, this);\n});\n_c2 = Transition;\nexport default function FullScreenDialog(props) {\n  _s();\n\n  const classes = useStyles();\n  let user = useContext(authContext);\n  let [classCode, setClassCode] = useState(\"\");\n  let [ownersEmail, setOwnersEmail] = useState(\"\");\n  let [error, setError] = useState(\"\");\n  let [joinedData, setJoinedData] = useState(\"\");\n  let [classExists, setClassExists] = useState(\"\");\n\n  let handleSubmit = e => {\n    e.preventDefault();\n    firestore.collection('Created Classes').doc(ownersEmail).collection('classes').doc(classCode).get().then(doc => {\n      if (doc.exists && ownersEmail !== user.email) {\n        setClassExists(true);\n        setJoinedData(doc.data());\n        setError(false);\n      } else {\n        setClassExists(false);\n        setError(true);\n        return;\n      }\n    });\n\n    if (classExists === true) {\n      firestore.collection('Joined Classes').doc(user.email).collection('classes').doc(classCode).set({\n        joinedData\n      });\n      firestore.collection('Created Classes').doc(ownersEmail).collection('classes').doc(classCode).update({});\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Dialog, {\n      fullScreen: true,\n      open: props.valueJoin.openJoin,\n      onClose: props.valueJoin.handleCloseJoin,\n      TransitionComponent: Transition,\n      children: [/*#__PURE__*/_jsxDEV(AppBar, {\n        className: classes.appBar,\n        children: /*#__PURE__*/_jsxDEV(Toolbar, {\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            edge: \"start\",\n            color: \"inherit\",\n            onClick: props.valueJoin.handleCloseJoin,\n            \"aria-label\": \"close\",\n            children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            className: classes.title,\n            children: \"Join Class\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            autoFocus: true,\n            color: \"inherit\",\n            onClick: props.valueJoin.handleCloseJoin,\n            children: \"JOIN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"joinClass\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"joinClass__form\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"joinClass__formText\",\n            children: \"You're currently signed in as logged in mail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"joinClass__loginInfo\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"joinClass__classLeft\",\n              children: [/*#__PURE__*/_jsxDEV(LetteredAvatar, {\n                name: user && !user.photoURL ? `${user.displayName}` : \"\",\n                imgSrc: user ? user.photoURL : \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"joinClass__loginText\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"joinClass__loginName\",\n                  children: user ? user.displayName : \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"joinClass__loginEmail\",\n                  children: user ? user.email : \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              color: \"primary\",\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"joinClass__form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Class code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"ask your teacher/owner for class code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            autoFocus: true,\n            margin: \"dense\",\n            id: \"name\",\n            label: \"Class Code\",\n            type: \"email\",\n            fullWidth: true,\n            value: classCode,\n            onChange: e => {\n              setClassCode(e.currentTarget.value);\n            },\n            error: error,\n            helperText: error && \"No class exist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            autoFocus: true,\n            margin: \"dense\",\n            id: \"name\",\n            label: \"Owner's Email\",\n            type: \"email\",\n            fullWidth: true,\n            value: ownersEmail,\n            onChange: e => {\n              setOwnersEmail(e.currentTarget.value);\n            },\n            error: error,\n            helperText: error && \"No class exist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleSubmit,\n            variant: \"outlined\",\n            color: \"primary\",\n            children: \"JOIN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 9\n  }, this);\n}\n\n_s(FullScreenDialog, \"IDcCBZEjLjV1PyB96mEOvcK7jgw=\", false, function () {\n  return [useStyles];\n});\n\n_c3 = FullScreenDialog;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Transition$React.forwardRef\");\n$RefreshReg$(_c2, \"Transition\");\n$RefreshReg$(_c3, \"FullScreenDialog\");","map":{"version":3,"sources":["C:/batches/Aug pp10/react/Google Classroom Project/app/src/JoinClass/JoinClass.js"],"names":["React","useState","makeStyles","Button","Dialog","AppBar","Toolbar","IconButton","Typography","CloseIcon","Slide","Avatar","TextField","useContext","authContext","LetteredAvatar","firestore","useStyles","theme","appBar","position","title","marginLeft","spacing","flex","Transition","forwardRef","props","ref","FullScreenDialog","classes","user","classCode","setClassCode","ownersEmail","setOwnersEmail","error","setError","joinedData","setJoinedData","classExists","setClassExists","handleSubmit","e","preventDefault","collection","doc","get","then","exists","email","data","set","update","valueJoin","openJoin","handleCloseJoin","photoURL","displayName","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport './JoinClass.css';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { TextField } from '@material-ui/core';\r\nimport { useContext } from 'react';\r\nimport { authContext } from '../AuthProvider';\r\nimport LetteredAvatar from 'lettered-avatar'\r\nimport { firestore } from '../lib/firebase';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    appBar: {\r\n        position: 'relative',\r\n    },\r\n    title: {\r\n        marginLeft: theme.spacing(2),\r\n        flex: 1,\r\n    },\r\n\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\n\r\n\r\nexport default function FullScreenDialog(props) {\r\n    const classes = useStyles();\r\n    let user = useContext(authContext);\r\n    let [classCode, setClassCode] = useState(\"\");\r\n    let [ownersEmail, setOwnersEmail] = useState(\"\");\r\n    let [error, setError] = useState(\"\");\r\n    let [joinedData, setJoinedData] = useState(\"\");\r\n    let [classExists, setClassExists] = useState(\"\");\r\n    let handleSubmit=(e)=>{\r\n        e.preventDefault();\r\n        firestore.collection('Created Classes')\r\n        .doc(ownersEmail)\r\n        .collection('classes')\r\n        .doc(classCode)\r\n        .get().then((doc)=>{\r\n            if(doc.exists && ownersEmail !== user.email){\r\n                setClassExists(true);\r\n                setJoinedData(doc.data());\r\n                setError(false);\r\n            }\r\n            else{\r\n                setClassExists(false);\r\n                setError(true);\r\n                return\r\n            }\r\n        \r\n        })\r\n        if(classExists===true){\r\n            firestore.collection('Joined Classes')\r\n            .doc(user.email)\r\n            .collection('classes')\r\n            .doc(classCode)\r\n            .set({\r\n                joinedData,\r\n            })\r\n            firestore.collection('Created Classes')\r\n            .doc(ownersEmail)\r\n            .collection('classes')\r\n            .doc(classCode)\r\n            .update({\r\n\r\n            })\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <Dialog fullScreen open={props.valueJoin.openJoin} onClose={props.valueJoin.handleCloseJoin} TransitionComponent={Transition}>\r\n                <AppBar className={classes.appBar}>\r\n                    <Toolbar>\r\n                        <IconButton edge=\"start\" color=\"inherit\" onClick={props.valueJoin.handleCloseJoin} aria-label=\"close\">\r\n                            <CloseIcon />\r\n                        </IconButton>\r\n                        <Typography variant=\"h6\" className={classes.title}>\r\n                            Join Class\r\n                        </Typography>\r\n                        <Button autoFocus color=\"inherit\" onClick={props.valueJoin.handleCloseJoin}>\r\n                            JOIN\r\n                        </Button>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <div className=\"joinClass\">\r\n                    <div className=\"joinClass__form\">\r\n                        <p className=\"joinClass__formText\">\r\n                            You're currently signed in as logged in mail\r\n                        </p>\r\n                        <div className=\"joinClass__loginInfo\">\r\n                            <div className=\"joinClass__classLeft\">\r\n                                <LetteredAvatar name={user && !(user.photoURL) ? `${user.displayName}` : \"\"} \r\n                                imgSrc={user ? user.photoURL : \"\"} />\r\n                                <div className=\"joinClass__loginText\">\r\n                                    <div className=\"joinClass__loginName\">\r\n                                        {user ? user.displayName : \"\"}\r\n                                    </div>\r\n                                    <div className=\"joinClass__loginEmail\">\r\n                                        {user ? user.email : \"\"}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <Button variant=\"outlined\" color=\"primary\">\r\n                                Logout\r\n                            </Button>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"joinClass__form\">\r\n                        <h5>Class code</h5>\r\n                        <div>ask your teacher/owner for class code</div>\r\n                        <TextField\r\n                            autoFocus\r\n                            margin=\"dense\"\r\n                            id=\"name\"\r\n                            label=\"Class Code\"\r\n                            type=\"email\"\r\n                            fullWidth\r\n                            value={classCode}\r\n                            onChange={(e) => {\r\n                                setClassCode(e.currentTarget.value);\r\n                            }}\r\n                            error={error}\r\n                            helperText={error && \"No class exist\"}\r\n                        />\r\n                        <TextField\r\n                            autoFocus\r\n                            margin=\"dense\"\r\n                            id=\"name\"\r\n                            label=\"Owner's Email\"\r\n                            type=\"email\"\r\n                            fullWidth\r\n                            value={ownersEmail}\r\n                            onChange={(e) => {\r\n                                setOwnersEmail(e.currentTarget.value);\r\n                            }}\r\n                            error={error}\r\n                            helperText={error && \"No class exist\"}\r\n\r\n                        />\r\n                        <Button onClick={handleSubmit}\r\n                        variant=\"outlined\" color=\"primary\">\r\n                            JOIN\r\n                        </Button>\r\n\r\n\r\n                    </div>\r\n                </div>\r\n\r\n            </Dialog>\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}