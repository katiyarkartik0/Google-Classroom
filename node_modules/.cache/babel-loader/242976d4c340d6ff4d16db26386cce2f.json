{"ast":null,"code":"import _slicedToArray from\"C:/batches/Aug pp10/react/Google Classroom Project/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useEffect}from'react';import{firestore}from'../lib/firebase';import'./Posts.css';import{Avatar}from'@material-ui/core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Posts=function Posts(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setposts=_useState2[1];console.log(props);useEffect(function(){if(props.postInfo){var unsubscribe=firestore.collection('announcements').doc('classes').collection(props.postInfo.id).onSnapshot(function(snap){setposts(snap.docs.map(function(doc){return doc.data();}));});return function(){unsubscribe();};}},[props.postInfo]);console.log(posts);return/*#__PURE__*/_jsx(\"div\",{children:posts.map(function(item){console.log(item);{if(item.documentURL){console.log(item.senderPhoto);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"card-box\",children:[/*#__PURE__*/_jsx(Avatar,{src:item.senderPhoto}),/*#__PURE__*/_jsx(\"h6\",{children:item.sender}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h7\",{children:item.text}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h4\",{children:\"ATTACHMENT\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"attachment\",children:[/*#__PURE__*/_jsx(\"h5\",{children:item.documentName}),/*#__PURE__*/_jsx(\"a\",{href:item.documentURL,children:item.documentURL})]})]})});}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"card-box\",children:[/*#__PURE__*/_jsx(Avatar,{src:item.senderPhoto}),/*#__PURE__*/_jsx(\"h6\",{children:item.sender}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h7\",{children:item.text})]})});}}})});};","map":{"version":3,"sources":["C:/batches/Aug pp10/react/Google Classroom Project/app/src/Posts/Posts.js"],"names":["React","useState","useEffect","firestore","Avatar","Posts","props","posts","setposts","console","log","postInfo","unsubscribe","collection","doc","id","onSnapshot","snap","docs","map","data","item","documentURL","senderPhoto","sender","text","documentName"],"mappings":"6KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,SAAT,KAA0B,iBAA1B,CACA,MAAO,aAAP,CACA,OAASC,MAAT,KAAuB,mBAAvB,C,6IACA,MAAO,IAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,CAC5B,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACAC,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EACAJ,SAAS,CAAC,UAAM,CACZ,GAAII,KAAK,CAACK,QAAV,CAAoB,CAChB,GAAIC,CAAAA,WAAW,CAAGT,SAAS,CAACU,UAAV,CAAqB,eAArB,EACbC,GADa,CACT,SADS,EAEbD,UAFa,CAEFP,KAAK,CAACK,QAAN,CAAeI,EAFb,EAGbC,UAHa,CAGF,SAACC,IAAD,CAAU,CAClBT,QAAQ,CAACS,IAAI,CAACC,IAAL,CAAUC,GAAV,CAAc,SAACL,GAAD,QAASA,CAAAA,GAAG,CAACM,IAAJ,EAAT,EAAd,CAAD,CAAR,CACH,CALa,CAAlB,CAMA,MAAO,WAAM,CACTR,WAAW,GACd,CAFD,CAIH,CACJ,CAbQ,CAaN,CAACN,KAAK,CAACK,QAAP,CAbM,CAAT,CAcAF,OAAO,CAACC,GAAR,CAAYH,KAAZ,EACA,mBACI,qBACKA,KAAK,CAACY,GAAN,CAAU,SAACE,IAAD,CAAU,CACjBZ,OAAO,CAACC,GAAR,CAAYW,IAAZ,EACA,CACI,GAAIA,IAAI,CAACC,WAAT,CAAsB,CAClBb,OAAO,CAACC,GAAR,CAAYW,IAAI,CAACE,WAAjB,EACA,mBACI,sCACI,aAAK,KAAK,CAAC,UAAX,wBACI,KAAC,MAAD,EAAQ,GAAG,CAAEF,IAAI,CAACE,WAAlB,EADJ,cAEI,oBAAKF,IAAI,CAACG,MAAV,EAFJ,cAGI,aAHJ,cAII,oBAAKH,IAAI,CAACI,IAAV,EAJJ,cAKI,aALJ,cAMI,kCANJ,cAOI,aAAK,SAAS,CAAC,YAAf,wBACI,oBAAKJ,IAAI,CAACK,YAAV,EADJ,cAEI,UAAG,IAAI,CAAEL,IAAI,CAACC,WAAd,UAA4BD,IAAI,CAACC,WAAjC,EAFJ,GAPJ,GADJ,EADJ,CAkBH,CApBD,IAoBO,CACH,mBACI,sCACI,aAAK,KAAK,CAAC,UAAX,wBACI,KAAC,MAAD,EAAQ,GAAG,CAAED,IAAI,CAACE,WAAlB,EADJ,cAEI,oBAAKF,IAAI,CAACG,MAAV,EAFJ,cAGI,aAHJ,cAII,oBAAKH,IAAI,CAACI,IAAV,EAJJ,GADJ,EADJ,CASH,CACJ,CAGJ,CArCA,CADL,EADJ,CA0CH,CA5DM","sourcesContent":["import React, { useState } from 'react'\r\nimport { useEffect } from 'react';\r\nimport { firestore } from '../lib/firebase';\r\nimport './Posts.css'\r\nimport { Avatar } from '@material-ui/core';\r\nexport const Posts = (props) => {\r\n    const [posts, setposts] = useState([])\r\n    console.log(props);\r\n    useEffect(() => {\r\n        if (props.postInfo) {\r\n            let unsubscribe = firestore.collection('announcements')\r\n                .doc('classes')\r\n                .collection(props.postInfo.id)\r\n                .onSnapshot((snap) => {\r\n                    setposts(snap.docs.map((doc) => doc.data()))\r\n                })\r\n            return () => {\r\n                unsubscribe();\r\n            }\r\n\r\n        }\r\n    }, [props.postInfo])\r\n    console.log(posts);\r\n    return (\r\n        <div>\r\n            {posts.map((item) => {\r\n                console.log(item)\r\n                {\r\n                    if (item.documentURL) {\r\n                        console.log(item.senderPhoto);\r\n                        return (\r\n                            <>\r\n                                <div class=\"card-box\">\r\n                                    <Avatar src={item.senderPhoto}/>\r\n                                    <h6>{item.sender}</h6>\r\n                                    <hr />\r\n                                    <h7>{item.text}</h7>\r\n                                    <hr />\r\n                                    <h4>ATTACHMENT</h4>\r\n                                    <div className=\"attachment\">\r\n                                        <h5>{item.documentName}</h5>\r\n                                        <a href={item.documentURL}>{item.documentURL}\r\n                                        </a>\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n                            </>)\r\n                    } else {\r\n                        return (\r\n                            <>\r\n                                <div class=\"card-box\">\r\n                                    <Avatar src={item.senderPhoto}/>\r\n                                    <h6>{item.sender}</h6>\r\n                                    <hr />\r\n                                    <h7>{item.text}</h7>\r\n                                </div>\r\n                            </>)\r\n                    }\r\n                }\r\n\r\n\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}