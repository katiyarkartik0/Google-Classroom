{"ast":null,"code":"import _slicedToArray from\"C:/batches/Aug pp10/react/Google Classroom Project/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import Button from'@material-ui/core/Button';import TextField from'@material-ui/core/TextField';import Dialog from'@material-ui/core/Dialog';import DialogActions from'@material-ui/core/DialogActions';import DialogContent from'@material-ui/core/DialogContent';import DialogContentText from'@material-ui/core/DialogContentText';import DialogTitle from'@material-ui/core/DialogTitle';import{useContext}from'react';import{useState}from\"react\";import{v4 as uuidv4}from'uuid';import{authContext}from'../AuthProvider';import{firestore}from'../lib/firebase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function FormDialog(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),className=_useState2[0],setClassName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),section=_useState4[0],setSection=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),subject=_useState6[0],setSubject=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),Room=_useState8[0],setRoom=_useState8[1];var user=useContext(authContext);var creatorEmail=user?user.email:\"\";var creatorPhotoURL=user?user.photoURL:\"\";var addClass=function addClass(e){e.preventDefault();console.log(\"this is called\");var id=uuidv4();firestore.collection('Created Classes').doc(creatorEmail).collection('classes').doc(id).set({owner:creatorEmail,photoURL:creatorPhotoURL,className:className,section:section,subject:subject,room:Room,id:id,joinedStudents:[]}).then(function(){props.value.handleClose();});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Dialog,{open:props.value.open,onClose:props.value.handleClose,\"aria-labelledby\":\"form-dialog-title\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"form-dialog-title\",children:\"Create a Class\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(DialogContentText,{children:\"Enter details\"}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"name\",label:\"Class Name\",type:\"email\",fullWidth:true,value:className,onChange:function onChange(e){setClassName(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"name\",label:\"Section\",type:\"email\",fullWidth:true,value:section,onChange:function onChange(e){setSection(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"name\",label:\"Subject\",type:\"email\",fullWidth:true,value:subject,onChange:function onChange(e){setSubject(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"name\",label:\"Room\",type:\"email\",fullWidth:true,value:Room,onChange:function onChange(e){setRoom(e.target.value);}})]}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:addClass,color:\"primary\",children:\"Create\"})})]})});}","map":{"version":3,"sources":["C:/batches/Aug pp10/react/Google Classroom Project/app/src/CreateClass/CreateClass.js"],"names":["React","Button","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","useContext","useState","v4","uuidv4","authContext","firestore","FormDialog","props","className","setClassName","section","setSection","subject","setSubject","Room","setRoom","user","creatorEmail","email","creatorPhotoURL","photoURL","addClass","e","preventDefault","console","log","id","collection","doc","set","owner","room","joinedStudents","then","value","handleClose","open","target"],"mappings":"6KAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qCAA9B,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,OAASC,UAAT,KAA2B,OAA3B,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,EAAE,GAAIC,CAAAA,MAAf,KAA6B,MAA7B,CACA,OAASC,WAAT,KAA4B,iBAA5B,CACA,OAASC,SAAT,KAA0B,iBAA1B,C,wFAGA,cAAe,SAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,CAExC,cAAkCN,QAAQ,CAAC,EAAD,CAA1C,wCAAOO,SAAP,eAAkBC,YAAlB,eACA,eAA8BR,QAAQ,CAAC,EAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eACA,eAA8BV,QAAQ,CAAC,EAAD,CAAtC,yCAAOW,OAAP,eAAgBC,UAAhB,eACA,eAAwBZ,QAAQ,CAAC,EAAD,CAAhC,yCAAOa,IAAP,eAAaC,OAAb,eAEA,GAAIC,CAAAA,IAAI,CAAGhB,UAAU,CAACI,WAAD,CAArB,CACA,GAAIa,CAAAA,YAAY,CAAGD,IAAI,CAACA,IAAI,CAACE,KAAN,CAAY,EAAnC,CACA,GAAIC,CAAAA,eAAe,CAAGH,IAAI,CAACA,IAAI,CAACI,QAAN,CAAe,EAAzC,CAMA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAO,CACtBA,CAAC,CAACC,cAAF,GACAC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACA,GAAMC,CAAAA,EAAE,CAAGvB,MAAM,EAAjB,CAEAE,SAAS,CAACsB,UAAV,CAAqB,iBAArB,EACGC,GADH,CACOX,YADP,EAEGU,UAFH,CAEc,SAFd,EAGGC,GAHH,CAGOF,EAHP,EAGWG,GAHX,CAGe,CACXC,KAAK,CAAEb,YADI,CAEXG,QAAQ,CAACD,eAFE,CAGXX,SAAS,CAAEA,SAHA,CAIXE,OAAO,CAAEA,OAJE,CAKXE,OAAO,CAAEA,OALE,CAMXmB,IAAI,CAAEjB,IANK,CAOXY,EAAE,CAAEA,EAPO,CAQXM,cAAc,CAAC,EARJ,CAHf,EAaGC,IAbH,CAaQ,UAAI,CACR1B,KAAK,CAAC2B,KAAN,CAAYC,WAAZ,GACD,CAfH,EAgBD,CArBD,CAyBA,mBACE,kCAEE,MAAC,MAAD,EACE,IAAI,CAAE5B,KAAK,CAAC2B,KAAN,CAAYE,IADpB,CAC0B,OAAO,CAAE7B,KAAK,CAAC2B,KAAN,CAAYC,WAD/C,CAC4D,kBAAgB,mBAD5E,wBAEE,KAAC,WAAD,EAAa,EAAE,CAAC,mBAAhB,4BAFF,cAGE,MAAC,aAAD,yBACE,KAAC,iBAAD,4BADF,cAIE,KAAC,SAAD,EACE,SAAS,KADX,CAEE,MAAM,CAAC,OAFT,CAGE,EAAE,CAAC,MAHL,CAIE,KAAK,CAAC,YAJR,CAKE,IAAI,CAAC,OALP,CAME,SAAS,KANX,CAOE,KAAK,CAAE3B,SAPT,CAQE,QAAQ,CAAE,kBAACc,CAAD,CAAO,CACfb,YAAY,CAACa,CAAC,CAACe,MAAF,CAASH,KAAV,CAAZ,CACD,CAVH,EAJF,cAgBE,KAAC,SAAD,EACE,SAAS,KADX,CAEE,MAAM,CAAC,OAFT,CAGE,EAAE,CAAC,MAHL,CAIE,KAAK,CAAC,SAJR,CAKE,IAAI,CAAC,OALP,CAME,SAAS,KANX,CAOE,KAAK,CAAExB,OAPT,CAQE,QAAQ,CAAE,kBAACY,CAAD,CAAO,CACfX,UAAU,CAACW,CAAC,CAACe,MAAF,CAASH,KAAV,CAAV,CACD,CAVH,EAhBF,cA4BE,KAAC,SAAD,EACE,SAAS,KADX,CAEE,MAAM,CAAC,OAFT,CAGE,EAAE,CAAC,MAHL,CAIE,KAAK,CAAC,SAJR,CAKE,IAAI,CAAC,OALP,CAME,SAAS,KANX,CAOE,KAAK,CAAEtB,OAPT,CAQE,QAAQ,CAAE,kBAACU,CAAD,CAAO,CACfT,UAAU,CAACS,CAAC,CAACe,MAAF,CAASH,KAAV,CAAV,CACD,CAVH,EA5BF,cAwCE,KAAC,SAAD,EACE,SAAS,KADX,CAEE,MAAM,CAAC,OAFT,CAGE,EAAE,CAAC,MAHL,CAIE,KAAK,CAAC,MAJR,CAKE,IAAI,CAAC,OALP,CAME,SAAS,KANX,CAOE,KAAK,CAAEpB,IAPT,CAQE,QAAQ,CAAE,kBAACQ,CAAD,CAAO,CACfP,OAAO,CAACO,CAAC,CAACe,MAAF,CAASH,KAAV,CAAP,CACD,CAVH,EAxCF,GAHF,cAwDE,KAAC,aAAD,wBACE,KAAC,MAAD,EACE,OAAO,CAAEb,QADX,CAEE,KAAK,CAAC,SAFR,oBADF,EAxDF,GAFF,EADF,CAsED","sourcesContent":["import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { useContext } from 'react';\r\nimport { useState } from \"react\";\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { authContext } from '../AuthProvider';\r\nimport { firestore } from '../lib/firebase';\r\n\r\n\r\nexport default function FormDialog(props) {\r\n\r\n  const [className, setClassName] = useState(\"\")\r\n  const [section, setSection] = useState(\"\")\r\n  const [subject, setSubject] = useState(\"\")\r\n  const [Room, setRoom] = useState(\"\")\r\n\r\n  let user = useContext(authContext);\r\n  let creatorEmail = user?user.email:\"\";\r\n  let creatorPhotoURL = user?user.photoURL:\"\";\r\n\r\n\r\n\r\n\r\n\r\n  const addClass = (e) => {\r\n    e.preventDefault();\r\n    console.log(\"this is called\");\r\n    const id = uuidv4();\r\n\r\n    firestore.collection('Created Classes')\r\n      .doc(creatorEmail)\r\n      .collection('classes')\r\n      .doc(id).set({\r\n        owner: creatorEmail,\r\n        photoURL:creatorPhotoURL,\r\n        className: className,\r\n        section: section,\r\n        subject: subject,\r\n        room: Room,\r\n        id: id,\r\n        joinedStudents:[]\r\n      })\r\n      .then(()=>{\r\n        props.value.handleClose()\r\n      })\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n\r\n      <Dialog\r\n        open={props.value.open} onClose={props.value.handleClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Create a Class</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Enter details\r\n          </DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\"Class Name\"\r\n            type=\"email\"\r\n            fullWidth\r\n            value={className}\r\n            onChange={(e) => {\r\n              setClassName(e.target.value)\r\n            }}\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\"Section\"\r\n            type=\"email\"\r\n            fullWidth\r\n            value={section}\r\n            onChange={(e) => {\r\n              setSection(e.target.value)\r\n            }}\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\"Subject\"\r\n            type=\"email\"\r\n            fullWidth\r\n            value={subject}\r\n            onChange={(e) => {\r\n              setSubject(e.target.value)\r\n            }}\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\"Room\"\r\n            type=\"email\"\r\n            fullWidth\r\n            value={Room}\r\n            onChange={(e) => {\r\n              setRoom(e.target.value)\r\n            }}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={addClass}\r\n            color=\"primary\">\r\n            Create\r\n          </Button>\r\n\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}